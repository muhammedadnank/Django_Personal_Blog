{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Personal Blog</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script>
        // Check for saved theme preference, otherwise use system preference
        const savedTheme = localStorage.getItem('theme');
        const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        const initialTheme = savedTheme || systemTheme;
        document.documentElement.setAttribute('data-theme', initialTheme);
    </script>
</head>
<body>

<header class="site-header">
    <div class="container header-content">
        <a href="{% url 'home' %}" class="logo">My Personal Blog</a>
        <nav class="main-nav">
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'about' %}">About</a></li>
                <li><button id="theme-toggle" class="theme-toggle" aria-label="Toggle Dark Mode">üåô</button></li>
            </ul>
        </nav>
    </div>
</header>

<main class="container">
    {% block content %}
    {% endblock %}
</main>

<footer>
    <div class="container">
        <p>&copy; {% now "Y" %} My Personal Blog. Built with Django.</p>
    </div>
</footer>

<script>
    const toggleBtn = document.getElementById('theme-toggle');
    toggleBtn.addEventListener('click', () => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        
        // Update icon
        toggleBtn.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    });
    
    // Set initial icon
    const currentTheme = document.documentElement.getAttribute('data-theme');
    toggleBtn.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
</script>

</body>
</html>
